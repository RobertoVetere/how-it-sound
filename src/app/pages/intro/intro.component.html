<div id="intro-container">
  <div
    class="flex flex-col items-center justify-center pt-32 pb-16 antialiased"
  >
    <div class="z-10 max-w-5xl">
      <h1
        class="bg-gradient-to-br from-black to-stone-500 bg-clip-text text-center font-display text-4xl font-bold tracking-[0.02em] text-transparent drop-shadow-sm md:text-7xl md:leading-[5rem] p-2 md:p-4"
      >
        Ok! Tienes muchas fotos, pero 驴A qu茅 suenan?
      </h1>
      <p class="py-4 md:py-8 text-base md:text-3xl text-center text-gray-500">
        PhotoSong utiliza inteligencia artificial para analizar tus fotograf铆as
        y crear una huella emocional de tus mejores momentos. 隆Ahora, tu
        galer铆a, suena!
        <button
          id="btnPlayAndHideBtn"
          class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary text-secondary-foreground h-10 px-12 py-4 mt-8 hover:bg-secondary z-20 rounded-full border transition-all hover:scale-105 active:scale-95 bg-black text-white hover:bg-white hover:text-black"
          (click)="startAnimation()"
          (click)="hideButton()"
        >
          <span class="text-muted-foreground font-semibold">  Play  </span>
        </button>
      </p>
    </div>
  </div>

  <div class="flex items-center justify-center bg-gray-0">
    <div class="slider">
      <div class="slide-track" #slideTrack>
        <!-- Iteraci贸n con *ngFor - Original -->
        <div
          class="slide p-4 flex items-center justify-center"
          *ngFor="let image of images"
        >
          <div
            (mouseenter)="playAudio(image.audioSrc)"
            (mouseleave)="pauseAudio()"
            class="border rounded-lg overflow-hidden shadow-lg transform transition-transform hover:scale-110 relative"
          >
            <!-- Imagen -->
            <img
              [src]="image.src"
              class="h-64 w-96 object-cover rounded-lg"
              alt=""
            />
            <!-- Bot贸n de ampliaci贸n de informaci贸n, inicialmente oculto -->
            <button
              (click)="openModal(image)"
              class="info-button absolute bottom-4 right-4 bg-black text-white p-2 rounded-full opacity-0 transition-opacity duration-300 hover:opacity-100"
            >
              
            </button>
          </div>
        </div>
        <!-- Fin de iteraci贸n - Original -->
        <!-- Iteraci贸n con *ngFor - Duplicado para transici贸n suave -->
        <div
          class="slide p-4 flex items-center justify-center"
          *ngFor="let image of images"
        >
          <div
            (mouseenter)="playAudio(image.audioSrc)"
            (mouseleave)="pauseAudio()"
            class="border rounded-lg overflow-hidden shadow-lg transform transition-transform hover:scale-110 relative"
          >
            <!-- Imagen -->
            <img
              [src]="image.src"
              class="h-64 w-96 object-cover rounded-lg"
              alt=""
            />
            <!-- Bot贸n de ampliaci贸n de informaci贸n, inicialmente oculto -->
            <button
              (click)="openModal(image)"
              class="info-button absolute bottom-4 right-4 bg-black text-white p-2 rounded-full opacity-0 transition-opacity duration-300 hover:opacity-100"
            >
              
            </button>
          </div>
        </div>
        <!-- Fin de iteraci贸n - Duplicado -->
      </div>
    </div>
  </div>

  <!-- Capa de fondo para bloquear interacciones -->
  <div
    *ngIf="showModal"
    class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 sm:p-8"
  >
    <!-- Modal -->
    <div
      class="relative z-50 bg-white max-w-5xl mx-auto rounded-lg shadow-lg overflow-hidden"
    >
      <!-- Contenido de la modal -->
      <div class="grid grid-cols-1 sm:grid-cols-2">
        <!-- Secci贸n de imagen -->
        <div class="bg-gray-200 p-8 flex items-center justify-center">
          <div
            class="border border-gray-300 bg-white rounded-lg shadow-md overflow-hidden"
          >
            <img
              alt="imagen de entrada"
              [src]="currentImageSrc"
              class="object-cover object-center w-full h-full h-[350px] sm:h-[600px] sm:w-[600px]"
            />
          </div>
        </div>
        <!-- Secci贸n de informaci贸n de la canci贸n -->
        <div class="p-8 flex flex-col justify-center sm:text-sm md:text-base">
          <h3 class="text-lg mb-4 justify-left">
            El match perfecto para esta foto es:
          </h3>
          <h2 class="text-xl font-semibold mb-2">
            {{ titleSong }} de {{ authorSong }}
          </h2>
          <p class="scrollable-paragraph">{{ currentSong.description }}</p>
          <div class="flex justify-left mt-4">
            <p class="photoThanks text-lg mb-4 justify-left relative">
              Gracias a {{ photoThanks }} por la fotograf铆a.
            </p>
          </div>
        </div>
      </div>
      <!-- Bot贸n de cierre -->
      <button
        class="absolute top-3 right-3 focus:outline-none"
        (click)="closeModal()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 text-gray-600"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>
    </div>
  </div>

  <!-- Reproductor de audio 煤nico en la vista principal -->
  <audio #audioPlayer class="hidden">
    Your browser does not support the audio element.
  </audio>
  <div
    id="intro-container"
    class="flex flex-col items-center justify-center pt-16 pb-32 antialiased"
  >
    <div class="z-10 max-w-5xl">
      <h1
        class="bg-gradient-to-br from-black to-stone-500 bg-clip-text text-center font-display text-4xl font-bold tracking-[0.02em] text-transparent drop-shadow-sm md:text-7xl md:leading-[5rem] p-2 md:p-4"
      >
        隆Ahora tu!
      </h1>
      <div class="py-4 md:py-8 text-base md:text-3xl text-center text-gray-500">
        <button
          id="btnPlayAndHideBtn"
          [routerLink]="['/login']"
          class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary text-secondary-foreground h-10 px-12 py-4 hover:bg-secondary z-20 rounded-full border transition-all hover:scale-105 active:scale-95 bg-black text-white hover:bg-white hover:text-black"
          (click)="startAnimation()"
          (click)="hideButton()"
        >
          <span class="text-muted-foreground font-semibold"> Login </span>
        </button>
      </div>
    </div>
  </div>
</div>
